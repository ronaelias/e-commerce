<!-- <div *ngIf="product; else noProduct">
  <div class="product-detail-card">
    <div class="product-detail-img">
      <img
        [src]="product.image"
        alt="{{ product.title }}"
        class="product-img"
      />
    </div>
    <div class="product-detail-info">
      <h1 class="product-title">{{ product.title }}</h1>
      <p class="product-price">${{ product.price }}</p>
      <p class="product-description">{{ product.description }}</p>
      <p><strong>Color:</strong></p>
      <div class="color-options">
        <button
          class="color-btn black"
          [ngClass]="{ active: selectedColor === 'Black' }"
          (click)="selectColor('Black')"
        ></button>
        <button
          class="color-btn white"
          [ngClass]="{ active: selectedColor === 'White' }"
          (click)="selectColor('White')"
        ></button>
        <button
          class="color-btn red"
          [ngClass]="{ active: selectedColor === 'Red' }"
          (click)="selectColor('Red')"
        ></button>
        <button
          class="color-btn green"
          [ngClass]="{ active: selectedColor === 'Green' }"
          (click)="selectColor('Green')"
        ></button>
        <button
          class="color-btn blue"
          [ngClass]="{ active: selectedColor === 'Blue' }"
          (click)="selectColor('Blue')"
        ></button>
        <button
          class="color-btn pink"
          [ngClass]="{ active: selectedColor === 'Pink' }"
          (click)="selectColor('Pink')"
        ></button>
      </div>
      <p><strong>Size:</strong></p>
      <div class="size-options">
        <button
          class="size-btn"
          [ngClass]="{ active: selectedSize === 'XS' }"
          (click)="selectSize('XS')"
        >
          XS
        </button>
        <button
          class="size-btn"
          [ngClass]="{ active: selectedSize === 'S' }"
          (click)="selectSize('S')"
        >
          S
        </button>
        <button
          class="size-btn"
          [ngClass]="{ active: selectedSize === 'M' }"
          (click)="selectSize('M')"
        >
          M
        </button>
        <button
          class="size-btn"
          [ngClass]="{ active: selectedSize === 'L' }"
          (click)="selectSize('L')"
        >
          L
        </button>
        <button
          class="size-btn"
          [ngClass]="{ active: selectedSize === 'XL' }"
          (click)="selectSize('XL')"
        >
          XL
        </button>
      </div>
      <div class="quantity-section">
        <p><strong>Quantity:</strong></p>
        <div class="quantity-controls">
          <button class="quantity-btn decrement" (click)="decrement()">
            -
          </button>
          <span class="quantity">{{
            productForm.controls['quantity'].value
          }}</span>
          <button class="quantity-btn increment" (click)="increment()">
            +
          </button>
        </div>
      </div>
      <div class="product-actions">
        <button
          class="add-to-cart"
          [ngClass]="{ 'in-cart': isInCartFlag }"
          (click)="addToCart(product.id)"
        >
          {{ isInCartFlag ? 'Remove from Cart' : 'Add to Cart' }}
        </button>
        <app-favorite-button
          [productId]="product.id"
          [isFavorite]="isFavorite(product.id)"
          (favoriteToggled)="onFavoriteToggled($event)"
        >
        </app-favorite-button>
      </div>
      <p *ngIf="errorMessage" class="error-message">{{ errorMessage }}</p>
    </div>
  </div>
</div>
<ng-template #noProduct>
  <p>Product details unavailable.</p>
</ng-template> -->

<div *ngIf="product; else noProduct" class="all">
  <div class="product-detail-card">
    <div class="product-detail-img">
      <img
        [src]="product.image"
        alt="{{ product.title }}"
        class="product-img"
      />
    </div>
    <div class="product-detail-info">
      <h1 class="product-title">{{ product.title }}</h1>
      <p class="product-price">${{ product.price }}</p>
      <p class="product-description">{{ product.description }}</p>

      <!-- Conditionally display color and size options -->
      <div *ngIf="isClothingCategory()">
        <p><strong>Color:</strong></p>
        <div class="color-options">
          <button
            *ngFor="let color of availableColors"
            class="color-btn"
            [ngClass]="{ active: selectedColor === color }"
            [style.background-color]="color"
            (click)="selectColor(color)"
          ></button>
        </div>

        <p><strong>Size:</strong></p>
        <div class="size-options">
          <button
            *ngFor="let size of availableSizes"
            class="size-btn"
            [ngClass]="{ active: selectedSize === size }"
            (click)="selectSize(size)"
          >
            {{ size }}
          </button>
        </div>
      </div>

      <div class="quantity-section">
        <p><strong>Quantity:</strong></p>
        <div class="quantity-controls">
          <button class="quantity-btn decrement" (click)="decrement()">
            -
          </button>
          <span class="quantity">{{
            productForm.controls['quantity'].value
          }}</span>
          <button class="quantity-btn increment" (click)="increment()">
            +
          </button>
        </div>
      </div>
      <p *ngIf="errorMessage" class="error-message">{{ errorMessage }}</p>
      <div class="product-actions">
        <button
          class="add-to-cart"
          [ngClass]="{ added: isAddedFlag }"
          (click)="addToCart(product.id)"
        >
          {{ isAddedFlag ? 'ADDED!' : 'Add to Cart' }}
        </button>
        <app-favorite-button
          [productId]="product.id"
          [isFavorite]="isFavorite(product.id)"
          (favoriteToggled)="onFavoriteToggled($event)"
        >
        </app-favorite-button>
      </div>
    </div>
  </div>
</div>
<ng-template #noProduct>
  <p>Product details unavailable.</p>
</ng-template>
